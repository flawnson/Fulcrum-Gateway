{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _nativeBase = require(\"native-base\");\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _jsxFileName = \"/home/kshen3778/Desktop/Projects/Fulcrum-Gateway/fulcrum_gateway/src/components/organisms/CreateQueueForm.tsx\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _default(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n  var defaultData = {\n    submitted: false,\n    name: \"Sample Queue name\",\n    maxSize: 10,\n    gracePeriod: 0,\n    partySize: 1\n  };\n  var defaultErrors = {\n    nameInvalid: false\n  };\n\n  var _useState = (0, _react.useState)(defaultData),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      formData = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(defaultErrors),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      errors = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(500),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      onChangeValue = _useState6[0],\n      setOnChangeValue = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(500),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      onChangeEndValue = _useState8[0],\n      setOnChangeEndValue = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(5),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      gracePeriod = _useState10[0],\n      setGracePeriod = _useState10[1];\n\n  var _useTranslation = (0, _reactI18next.useTranslation)([\"createQueuePage\", \"common\"]),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  (0, _react.useEffect)(function () {\n    validate();\n  }, []);\n\n  var validate = function validate() {\n    if (formData.name.length > 50) {\n      setError((0, _extends2.default)({}, errors, {\n        nameError: 'Name is too short'\n      }));\n      setError((0, _extends2.default)({}, errors, {\n        nameInvalid: true\n      }));\n    } else {\n      setError((0, _extends2.default)({}, errors, {\n        nameInvalid: false\n      }));\n    }\n  };\n\n  var check = function check() {\n    if (formData.name === undefined) {\n      setError((0, _extends2.default)({}, errors, {\n        nameError: 'Name is required'\n      }));\n      setError((0, _extends2.default)({}, errors, {\n        nameInvalid: true\n      }));\n    }\n\n    return true;\n  };\n\n  function submit() {\n    var response;\n    return _regenerator.default.async(function submit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap(fetch('https://jsonplaceholder.typicode.com/posts', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(formData)\n            }));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regenerator.default.awrap(response.json());\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  }\n\n  var onSuccess = function onSuccess() {\n    setData((0, _extends2.default)({}, formData, {\n      submitted: true\n    }));\n    var submissionData = submit();\n    console.log(submissionData);\n    navigation.navigate(\"OrganizerDashboard\");\n    setData((0, _extends2.default)({}, formData, {\n      submitted: false\n    }));\n  };\n\n  var onFailure = function onFailure() {\n    console.log(\"you suck\");\n  };\n\n  var onSubmit = function onSubmit() {\n    setData((0, _extends2.default)({}, formData, {\n      submitted: true\n    }));\n    check() ? onSuccess() : onFailure();\n  };\n\n  return _react.default.createElement(_nativeBase.VStack, {\n    width: \"90%\",\n    mx: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_nativeBase.FormControl, {\n    isRequired: true,\n    isInvalid: errors.nameInvalid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_nativeBase.Stack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.Label, {\n    _text: {\n      bold: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, t(\"business_name_label\"))), _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.HelperText, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, _react.default.createElement(_nativeBase.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, t(\"business_name_helper\")))), _react.default.createElement(_nativeBase.Input, {\n    placeholder: \"Bob's Burgers\",\n    onChangeText: function onChangeText(value) {\n      return setData((0, _extends2.default)({}, formData, {\n        name: value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }), _react.default.createElement(_nativeBase.FormControl.ErrorMessage, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Name Error\"))), _react.default.createElement(_nativeBase.FormControl, {\n    isRequired: true,\n    isInvalid: errors.nameInvalid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_nativeBase.Stack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.Label, {\n    _text: {\n      bold: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, t(\"queue_cap_label\", {\n    onChangeValue: onChangeValue\n  }))), _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.HelperText, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, _react.default.createElement(_nativeBase.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, t(\"queue_cap_helper\")))), _react.default.createElement(_nativeBase.Slider, {\n    defaultValue: 500,\n    colorScheme: \"cyan\",\n    onChange: function onChange(v) {\n      setOnChangeValue(Math.floor(v));\n    },\n    onChangeEnd: function onChangeEnd(v) {\n      v && setOnChangeEndValue(Math.floor(v));\n      setData((0, _extends2.default)({}, formData, {\n        maxSize: v\n      }));\n    },\n    minValue: 0,\n    maxValue: 1000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.Slider.Track, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, _react.default.createElement(_nativeBase.Slider.FilledTrack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  })), _react.default.createElement(_nativeBase.Slider.Thumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  })), _react.default.createElement(_nativeBase.FormControl.ErrorMessage, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"Name Error\"))), _react.default.createElement(_nativeBase.FormControl, {\n    isRequired: true,\n    isInvalid: errors.nameInvalid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_nativeBase.Stack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.Label, {\n    _text: {\n      bold: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, t(\"grace_period_label\", {\n    gracePeriod: formData.gracePeriod\n  }))), _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.HelperText, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, _react.default.createElement(_nativeBase.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, t(\"grace_period_helper\")))), _react.default.createElement(_nativeBase.Select, {\n    placeholder: \"0\",\n    onValueChange: function onValueChange(value) {\n      return setData((0, _extends2.default)({}, formData, {\n        gracePeriod: parseInt(value)\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, (0, _toConsumableArray2.default)(Array(10).keys()).map(function (number) {\n    return _react.default.createElement(_nativeBase.Select.Item, {\n      key: number,\n      label: number.toString(),\n      value: \"ux\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 62\n      }\n    });\n  })), _react.default.createElement(_nativeBase.FormControl.ErrorMessage, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Name Error\"))), _react.default.createElement(_nativeBase.FormControl, {\n    isRequired: true,\n    isInvalid: errors.nameInvalid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_nativeBase.Stack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.Label, {\n    _text: {\n      bold: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, t(\"party_size_label\", {\n    partySize: formData.partySize\n  }))), _react.default.createElement(_nativeBase.Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_nativeBase.FormControl.HelperText, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, _react.default.createElement(_nativeBase.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, t(\"party_size_helper\")))), _react.default.createElement(_nativeBase.Select, {\n    placeholder: \"0\",\n    onValueChange: function onValueChange(value) {\n      return setData((0, _extends2.default)({}, formData, {\n        partySize: parseInt(value)\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, (0, _toConsumableArray2.default)(Array(10).keys()).map(function (number) {\n    return _react.default.createElement(_nativeBase.Select.Item, {\n      label: number.toString(),\n      value: \"ux\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 62\n      }\n    });\n  })), _react.default.createElement(_nativeBase.FormControl.ErrorMessage, {\n    _text: {\n      fontSize: 'xs'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, \"Name Error\"))), _react.default.createElement(_nativeBase.Button, {\n    onPress: onSubmit,\n    mt: \"5\",\n    colorScheme: \"cyan\",\n    isLoading: formData.submitted,\n    isLoadingText: \"Submitting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, \"Submit\"));\n}","map":{"version":3,"sources":["/home/kshen3778/Desktop/Projects/Fulcrum-Gateway/fulcrum_gateway/src/components/organisms/CreateQueueForm.tsx"],"names":["navigation","defaultData","submitted","name","maxSize","gracePeriod","partySize","defaultErrors","nameInvalid","formData","setData","errors","setError","onChangeValue","setOnChangeValue","onChangeEndValue","setOnChangeEndValue","setGracePeriod","t","i18n","validate","length","nameError","check","undefined","submit","fetch","method","headers","body","JSON","stringify","response","json","onSuccess","submissionData","console","log","navigate","onFailure","onSubmit","bold","fontSize","value","v","Math","floor","parseInt","Array","keys","map","number","toString"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AAMA;;;;;;;;AAee,wBAAyC;AAAA;;AAAA,MAA9BA,UAA8B,QAA9BA,UAA8B;AACpD,MAAMC,WAAW,GAAG;AAACC,IAAAA,SAAS,EAAE,KAAZ;AAAmBC,IAAAA,IAAI,EAAE,mBAAzB;AAA8CC,IAAAA,OAAO,EAAE,EAAvD;AAA2DC,IAAAA,WAAW,EAAE,CAAxE;AAA2EC,IAAAA,SAAS,EAAE;AAAtF,GAApB;AACA,MAAMC,aAAa,GAAG;AAACC,IAAAA,WAAW,EAAE;AAAd,GAAtB;;AACA,kBAA4B,qBAAsBP,WAAtB,CAA5B;AAAA;AAAA,MAAOQ,QAAP;AAAA,MAAiBC,OAAjB;;AACA,mBAA2B,qBAAwBH,aAAxB,CAA3B;AAAA;AAAA,MAAOI,MAAP;AAAA,MAAeC,QAAf;;AACA,mBAA0C,qBAAS,GAAT,CAA1C;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAgD,qBAAS,GAAT,CAAhD;AAAA;AAAA,MAAOC,gBAAP;AAAA,MAAyBC,mBAAzB;;AACA,mBAAsC,qBAAS,CAAT,CAAtC;AAAA;AAAA,MAAOX,WAAP;AAAA,MAAoBY,cAApB;;AACA,wBAAoB,kCAAe,CAAC,iBAAD,EAAoB,QAApB,CAAf,CAApB;AAAA,MAAQC,CAAR,mBAAQA,CAAR;AAAA,MAAWC,IAAX,mBAAWA,IAAX;;AAGA,wBAAU,YAAM;AAACC,IAAAA,QAAQ;AAAG,GAA5B,EAA8B,EAA9B;;AAEA,MAAMA,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,QAAIX,QAAQ,CAACN,IAAT,CAAckB,MAAd,GAAuB,EAA3B,EAA+B;AAC3BT,MAAAA,QAAQ,4BACGD,MADH;AAEAW,QAAAA,SAAS,EAAE;AAFX,SAAR;AAIIV,MAAAA,QAAQ,4BAAKD,MAAL;AAAaH,QAAAA,WAAW,EAAE;AAA1B,SAAR;AACP,KAND,MAMO;AACHI,MAAAA,QAAQ,4BAAKD,MAAL;AAAaH,QAAAA,WAAW,EAAE;AAA1B,SAAR;AACH;AACJ,GAVD;;AAYA,MAAMe,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB,QAAId,QAAQ,CAACN,IAAT,KAAkBqB,SAAtB,EAAiC;AAC7BZ,MAAAA,QAAQ,4BACDD,MADC;AAEJW,QAAAA,SAAS,EAAE;AAFP,SAAR;AAIAV,MAAAA,QAAQ,4BAAKD,MAAL;AAAaH,QAAAA,WAAW,EAAE;AAA1B,SAAR;AACH;;AACD,WAAO,IAAP;AACH,GATD;;AAWA,WAAeiB,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAE+BC,KAAK,CAAC,4CAAD,EAA+C;AACvEC,cAAAA,MAAM,EAAE,MAD+D;AAEvEC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eAF8D;AAKvEC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAetB,QAAf;AALiE,aAA/C,CAFpC;;AAAA;AAEcuB,YAAAA,QAFd;AAAA;AAAA,8CAUqBA,QAAQ,CAACC,IAAT,EAVrB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBxB,IAAAA,OAAO,4BAAKD,QAAL;AAAeP,MAAAA,SAAS,EAAE;AAA1B,OAAP;AACA,QAAMiC,cAAc,GAAGV,MAAM,EAA7B;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ;AACAnC,IAAAA,UAAU,CAACsC,QAAX,CAAoB,oBAApB;AACA5B,IAAAA,OAAO,4BAAKD,QAAL;AAAeP,MAAAA,SAAS,EAAE;AAA1B,OAAP;AACH,GAND;;AAQA,MAAMqC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,GAFD;;AAIA,MAAMG,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB9B,IAAAA,OAAO,4BAAKD,QAAL;AAAeP,MAAAA,SAAS,EAAE;AAA1B,OAAP;AACAqB,IAAAA,KAAK,KAAKW,SAAS,EAAd,GAAmBK,SAAS,EAAjC;AAEH,GAJD;;AAMA,SACI,6BAAC,kBAAD;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAoB,IAAA,EAAE,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD;AAAa,IAAA,UAAU,MAAvB;AAAwB,IAAA,SAAS,EAAE5B,MAAM,CAACH,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,KAAb;AAAmB,IAAA,KAAK,EAAE;AAACiC,MAAAA,IAAI,EAAE;AAAP,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCvB,CAAC,CAAC,qBAAD,CAA1C,CADJ,CADJ,EAII,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,UAAb;AAAwB,IAAA,KAAK,EAAE;AAACwB,MAAAA,QAAQ,EAAE;AAAX,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOxB,CAAC,CAAC,sBAAD,CAAR,CADJ,CADJ,CAJJ,EASI,6BAAC,iBAAD;AACI,IAAA,WAAW,EAAE,eADjB;AAEI,IAAA,YAAY,EAAE,sBAACyB,KAAD;AAAA,aAAWjC,OAAO,4BAAMD,QAAN;AAAgBN,QAAAA,IAAI,EAAEwC;AAAtB,SAAlB;AAAA,KAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAaI,6BAAC,uBAAD,CAAa,YAAb;AAA0B,IAAA,KAAK,EAAE;AAACD,MAAAA,QAAQ,EAAE;AAAX,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoD,YAApD,CAbJ,CADJ,CADJ,EAkBI,6BAAC,uBAAD;AAAa,IAAA,UAAU,MAAvB;AAAwB,IAAA,SAAS,EAAE/B,MAAM,CAACH,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,KAAb;AAAmB,IAAA,KAAK,EAAE;AAACiC,MAAAA,IAAI,EAAE;AAAP,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCvB,CAAC,CAAC,iBAAD,EAAoB;AAACL,IAAAA,aAAa,EAAEA;AAAhB,GAApB,CAA1C,CADJ,CADJ,EAII,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,UAAb;AAAwB,IAAA,KAAK,EAAE;AAAC6B,MAAAA,QAAQ,EAAE;AAAX,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOxB,CAAC,CAAC,kBAAD,CAAR,CADJ,CADJ,CAJJ,EASI,6BAAC,kBAAD;AACI,IAAA,YAAY,EAAE,GADlB;AAEI,IAAA,WAAW,EAAC,MAFhB;AAGI,IAAA,QAAQ,EAAE,kBAAC0B,CAAD,EAAO;AACb9B,MAAAA,gBAAgB,CAAC+B,IAAI,CAACC,KAAL,CAAWF,CAAX,CAAD,CAAhB;AACH,KALL;AAMI,IAAA,WAAW,EAAE,qBAACA,CAAD,EAAO;AAChBA,MAAAA,CAAC,IAAI5B,mBAAmB,CAAC6B,IAAI,CAACC,KAAL,CAAWF,CAAX,CAAD,CAAxB;AACAlC,MAAAA,OAAO,4BAAKD,QAAL;AAAeL,QAAAA,OAAO,EAAEwC;AAAxB,SAAP;AACH,KATL;AAUI,IAAA,QAAQ,EAAE,CAVd;AAWI,IAAA,QAAQ,EAAE,IAXd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaI,6BAAC,kBAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,kBAAD,CAAQ,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAbJ,EAgBI,6BAAC,kBAAD,CAAQ,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,CATJ,EA2BI,6BAAC,uBAAD,CAAa,YAAb;AAA0B,IAAA,KAAK,EAAE;AAACF,MAAAA,QAAQ,EAAE;AAAX,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoD,YAApD,CA3BJ,CADJ,CAlBJ,EAiDI,6BAAC,uBAAD;AAAa,IAAA,UAAU,MAAvB;AAAwB,IAAA,SAAS,EAAE/B,MAAM,CAACH,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,KAAb;AAAmB,IAAA,KAAK,EAAE;AAACiC,MAAAA,IAAI,EAAE;AAAP,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCvB,CAAC,CAAC,oBAAD,EAAuB;AAACb,IAAAA,WAAW,EAAEI,QAAQ,CAACJ;AAAvB,GAAvB,CAA1C,CADJ,CADJ,EAII,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,UAAb;AAAwB,IAAA,KAAK,EAAE;AAACqC,MAAAA,QAAQ,EAAE;AAAX,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOxB,CAAC,CAAC,qBAAD,CAAR,CADJ,CADJ,CAJJ,EASI,6BAAC,kBAAD;AACI,IAAA,WAAW,EAAE,GADjB;AAEI,IAAA,aAAa,EAAE,uBAACyB,KAAD;AAAA,aAAWjC,OAAO,4BAAMD,QAAN;AAAgBJ,QAAAA,WAAW,EAAE0C,QAAQ,CAACJ,KAAD;AAArC,SAAlB;AAAA,KAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIK,iCAAIK,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,EAAJ,EAAsBC,GAAtB,CAA0B,UAAAC,MAAM;AAAA,WAAI,6BAAC,kBAAD,CAAQ,IAAR;AAAa,MAAA,GAAG,EAAEA,MAAlB;AAA0B,MAAA,KAAK,EAAEA,MAAM,CAACC,QAAP,EAAjC;AAAoD,MAAA,KAAK,EAAC,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAAhC,CAJL,CATJ,EAeA,6BAAC,uBAAD,CAAa,YAAb;AAA0B,IAAA,KAAK,EAAE;AAACV,MAAAA,QAAQ,EAAE;AAAX,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoD,YAApD,CAfA,CADJ,CAjDJ,EAoEI,6BAAC,uBAAD;AAAa,IAAA,UAAU,MAAvB;AAAwB,IAAA,SAAS,EAAE/B,MAAM,CAACH,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,KAAb;AAAmB,IAAA,KAAK,EAAE;AAACiC,MAAAA,IAAI,EAAE;AAAP,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCvB,CAAC,CAAC,kBAAD,EAAqB;AAACZ,IAAAA,SAAS,EAAEG,QAAQ,CAACH;AAArB,GAArB,CAA1C,CADJ,CADJ,EAII,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,uBAAD,CAAa,UAAb;AAAwB,IAAA,KAAK,EAAE;AAACoC,MAAAA,QAAQ,EAAE;AAAX,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOxB,CAAC,CAAC,mBAAD,CAAR,CADJ,CADJ,CAJJ,EASI,6BAAC,kBAAD;AACI,IAAA,WAAW,EAAE,GADjB;AAEI,IAAA,aAAa,EAAE,uBAACyB,KAAD;AAAA,aAAWjC,OAAO,4BAAMD,QAAN;AAAgBH,QAAAA,SAAS,EAAEyC,QAAQ,CAACJ,KAAD;AAAnC,SAAlB;AAAA,KAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIK,iCAAIK,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,EAAJ,EAAsBC,GAAtB,CAA0B,UAAAC,MAAM;AAAA,WAAI,6BAAC,kBAAD,CAAQ,IAAR;AAAa,MAAA,KAAK,EAAEA,MAAM,CAACC,QAAP,EAApB;AAAuC,MAAA,KAAK,EAAC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAAhC,CAJL,CATJ,EAeI,6BAAC,uBAAD,CAAa,YAAb;AAA0B,IAAA,KAAK,EAAE;AAACV,MAAAA,QAAQ,EAAE;AAAX,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoD,YAApD,CAfJ,CADJ,CApEJ,EAuFI,6BAAC,kBAAD;AAAQ,IAAA,OAAO,EAAEF,QAAjB;AAA2B,IAAA,EAAE,EAAC,GAA9B;AAAkC,IAAA,WAAW,EAAC,MAA9C;AAAqD,IAAA,SAAS,EAAE/B,QAAQ,CAACP,SAAzE;AAAoF,IAAA,aAAa,EAAC,YAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAvFJ,CADJ;AA6FH","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {Button, Center,\n        FormControl, Input,\n        Slider, Stack,\n        Text, VStack,\n        Select} from 'native-base'\nimport {HomeScreenProps} from \"../../../types\";\nimport {useTranslation} from \"react-i18next\";\n\ntype DefaultData = {\n    submitted: boolean,\n    name: string,\n    maxSize: number,\n    gracePeriod: number,\n    partySize: number,\n}\n\ntype DefaultErrors = {\n    nameError?: string\n    nameInvalid: boolean,\n}\n\nexport default function ({navigation}: HomeScreenProps) {\n    const defaultData = {submitted: false, name: \"Sample Queue name\", maxSize: 10, gracePeriod: 0, partySize: 1}\n    const defaultErrors = {nameInvalid: false}\n    const [formData, setData] = useState<DefaultData>(defaultData);\n    const [errors, setError] = useState<DefaultErrors>(defaultErrors);\n    const [onChangeValue, setOnChangeValue] = useState(500)\n    const [onChangeEndValue, setOnChangeEndValue] = useState(500)\n    const [gracePeriod, setGracePeriod] = useState(5)\n    const { t, i18n } = useTranslation([\"createQueuePage\", \"common\"]);\n\n    // Be careful with this it might trigger infinite render loop\n    useEffect(() => {validate()}, [])\n\n    const validate = () => {\n        if (formData.name.length > 50) {\n            setError({\n                    ...errors,\n                    nameError: 'Name is too short',\n                });\n                setError({...errors, nameInvalid: true})\n        } else {\n            setError({...errors, nameInvalid: false})\n        }\n    }\n\n    const check = () => {\n        if (formData.name === undefined) {\n            setError({\n                ...errors,\n                nameError: 'Name is required',\n            });\n            setError({...errors, nameInvalid: true})\n        }\n        return true;\n    };\n\n    async function submit () {\n        try {\n            const response = await fetch('https://jsonplaceholder.typicode.com/posts', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formData)\n            });\n            // enter you logic when the fetch is successful\n            return await response.json()\n        } catch(error) {\n            // enter your logic for when there is an error (ex. error toast)\n            return error\n        }\n    }\n\n    const onSuccess = () => {\n        setData({...formData, submitted: true})\n        const submissionData = submit()\n        console.log(submissionData);\n        navigation.navigate(\"OrganizerDashboard\")\n        setData({...formData, submitted: false})\n    }\n\n    const onFailure = () => {\n        console.log(\"you suck\")\n    }\n\n    const onSubmit = () => {\n        setData({...formData, submitted: true})\n        check() ? onSuccess() : onFailure();\n\n    };\n\n    return (\n        <VStack width=\"90%\" mx=\"3\">\n            <FormControl isRequired isInvalid={errors.nameInvalid}>\n                <Stack>\n                    <Center>\n                        <FormControl.Label _text={{bold: true}}>{t(\"business_name_label\")}</FormControl.Label>\n                    </Center>\n                    <Center>\n                        <FormControl.HelperText _text={{fontSize: 'xs'}}>\n                            <Text>{t(\"business_name_helper\")}</Text>\n                        </FormControl.HelperText>\n                    </Center>\n                    <Input\n                        placeholder={\"Bob's Burgers\"}\n                        onChangeText={(value) => setData({ ...formData, name: value })}\n                    />\n                    <FormControl.ErrorMessage _text={{fontSize: 'xs'}}>{\"Name Error\"}</FormControl.ErrorMessage>\n                </Stack>\n            </FormControl>\n            <FormControl isRequired isInvalid={errors.nameInvalid}>\n                <Stack>\n                    <Center>\n                        <FormControl.Label _text={{bold: true}}>{t(\"queue_cap_label\", {onChangeValue: onChangeValue})}</FormControl.Label>\n                    </Center>\n                    <Center>\n                        <FormControl.HelperText _text={{fontSize: 'xs'}}>\n                            <Text>{t(\"queue_cap_helper\")}</Text>\n                        </FormControl.HelperText>\n                    </Center>\n                    <Slider\n                        defaultValue={500}\n                        colorScheme=\"cyan\"\n                        onChange={(v) => {\n                            setOnChangeValue(Math.floor(v))\n                        }}\n                        onChangeEnd={(v) => {\n                            v && setOnChangeEndValue(Math.floor(v))\n                            setData({...formData, maxSize: v})\n                        }}\n                        minValue={0}\n                        maxValue={1000}\n                    >\n                        <Slider.Track>\n                            <Slider.FilledTrack />\n                        </Slider.Track>\n                        <Slider.Thumb />\n                    </Slider>\n                    <FormControl.ErrorMessage _text={{fontSize: 'xs'}}>{\"Name Error\"}</FormControl.ErrorMessage>\n                </Stack>\n            </FormControl>\n            <FormControl isRequired isInvalid={errors.nameInvalid}>\n                <Stack>\n                    <Center>\n                        <FormControl.Label _text={{bold: true}}>{t(\"grace_period_label\", {gracePeriod: formData.gracePeriod})}</FormControl.Label>\n                    </Center>\n                    <Center>\n                        <FormControl.HelperText _text={{fontSize: 'xs'}}>\n                            <Text>{t(\"grace_period_helper\")}</Text>\n                        </FormControl.HelperText>\n                    </Center>\n                    <Select\n                        placeholder={\"0\"}\n                        onValueChange={(value) => setData({ ...formData, gracePeriod: parseInt(value) })}\n                    >\n                        {[...Array(10).keys()].map(number => <Select.Item key={number} label={number.toString()} value=\"ux\" />)}\n                    </Select>\n                <FormControl.ErrorMessage _text={{fontSize: 'xs'}}>{\"Name Error\"}</FormControl.ErrorMessage>\n                </Stack>\n            </FormControl>\n            <FormControl isRequired isInvalid={errors.nameInvalid}>\n                <Stack>\n                    <Center>\n                        <FormControl.Label _text={{bold: true}}>{t(\"party_size_label\", {partySize: formData.partySize})}</FormControl.Label>\n                    </Center>\n                    <Center>\n                        <FormControl.HelperText _text={{fontSize: 'xs'}}>\n                            <Text>{t(\"party_size_helper\")}</Text>\n                        </FormControl.HelperText>\n                    </Center>\n                    <Select\n                        placeholder={\"0\"}\n                        onValueChange={(value) => setData({ ...formData, partySize: parseInt(value) })}\n                    >\n                        {[...Array(10).keys()].map(number => <Select.Item label={number.toString()} value=\"ux\" />)}\n                    </Select>\n                    <FormControl.ErrorMessage _text={{fontSize: 'xs'}}>{\"Name Error\"}</FormControl.ErrorMessage>\n                </Stack>\n            </FormControl>\n            <Button onPress={onSubmit} mt=\"5\" colorScheme=\"cyan\" isLoading={formData.submitted} isLoadingText=\"Submitting\">\n                Submit\n            </Button>\n        </VStack>\n    )\n}\n"]},"metadata":{},"sourceType":"script"}